let pagina=1;const pedido={nombre:"",direccion:"",telefono:"",fecha:"",hora:"",gustos:[]};function iniciarApp(){mostrarSeccion(),cambiarSeccion(),paginaSiguiente(),paginaAnterior(),botonesPaginador(),mostrarPedido(),nombrePedido(),direccionPedido(),telefonoPedido(),fechaPedido(),deshabilitarFechaAnterior(),mostrarSabores(),horaPedido()}function mostrarSeccion(){const e=document.querySelector(".mostrar-seccion");e&&e.classList.remove("mostrar-seccion");document.querySelector("#paso-"+pagina).classList.add("mostrar-seccion");const t=document.querySelector(".tabs .actual");t&&t.classList.remove("actual");document.querySelector(`[data-paso="${pagina}"]`).classList.add("actual")}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),pagina=parseInt(e.target.dataset.paso),mostrarSeccion(),botonesPaginador()})})}async function mostrarSabores(){try{const t=await fetch("./sabores.json"),o=await t.json(),{sabores:n}=o;n.forEach(t=>{const{id:o,nombre:n}=t,a=document.createElement("P");a.textContent=n,a.classList.add("nombre-sabor");const r=document.createElement("DIV");r.classList.add("sabor"),r.dataset.idSabor=o,r.onclick=e,r.appendChild(a),document.querySelector("#sabores").appendChild(r)})}catch(e){console.log(e)}function e(e){let t;if(t="P"===e.target.tagName?e.target.parentElement:e.target,t.classList.contains("seleccionado")){t.classList.remove("seleccionado");eliminarSabor(parseInt(t.dataset.idSabor))}else{t.classList.add("seleccionado");agregarSabor({id:parseInt(t.dataset.idSabor),nombre:t.firstElementChild.textContent})}}}function eliminarSabor(e){const{gustos:t}=pedido;pedido.gustos=t.filter(t=>t.id!==e),console.log(pedido)}function agregarSabor(e){const{gustos:t}=pedido;pedido.gustos=[...t,e],console.log(pedido)}function paginaSiguiente(){document.querySelector("#siguiente").addEventListener("click",()=>{pagina++,botonesPaginador()})}function paginaAnterior(){document.querySelector("#anterior").addEventListener("click",()=>{pagina--,botonesPaginador()})}function botonesPaginador(){const e=document.querySelector("#siguiente"),t=document.querySelector("#anterior");1===pagina?t.classList.add("ocultar"):4===pagina?(e.classList.add("ocultar"),t.classList.remove("ocultar")):(t.classList.remove("ocultar"),e.classList.remove("ocultar")),mostrarSeccion()}function mostrarPedido(){const{nombre:e,direccion:t,telefono:o,fecha:n,hora:a}=pedido,r=document.querySelector(".contenido-pedido");for(;r.firstChild;)r.removeChild(r.firstChild);if(Object.values(pedido).includes("")){const e=document.createElement("P");return e.textContent="Faltan datos del pedido, nombre, direccion, fecha o hora",e.classList.add("invalidar-pedido"),void r.appendChild(e)}const c=document.createElement("H3");c.textContent="Resumen del pedido";const i=document.createElement("P");i.innerHTML="<span>Nombre:</span> "+e;const d=document.createElement("P");d.innerHTML="<span>Direccion:</span> "+t;const s=document.createElement("P");s.innerHTML="<span>Telefono:</span> "+o;const l=document.createElement("P");l.innerHTML="<span>Fecha:</span> "+n;const u=document.createElement("P");u.innerHTML="<span>Hora:</span> "+a;const m=document.createElement("DIV");m.classList.add("pedido-pedido");const p=document.createElement("H3");p.textContent="Total",m.appendChild(p);pedido.forEach(e=>{const{nombre:t,direccion:o,telefono:n}=e,a=document.createElement("DIV");a.classList.add("contenedor-pedido");const r=document.createElement("P");r.textContent=t,r.classList.add("nombre"),r.textContent=o,r.classList.add("direccion"),r.textContent=n,r.classList.add("telefono"),a.appendChild(r),m.appendChild(a)}),r.appendChild(c),r.appendChild(i),r.appendChild(d),r.appendChild(s),r.appendChild(l),r.appendChild(u),r.appendChild(m)}function nombrePedido(){document.querySelector("#nombre").addEventListener("input",e=>{const t=e.target.value.trim();if(""===t||t.lenght<3)console.log("Nombre no valido");else{const e=document.querySelector(".alerta");e&&e.remove(),pedido.nombre=t}})}function direccionPedido(){document.querySelector("#direccion").addEventListener("input",e=>{const t=e.target.value.trim(),o=document.querySelector(".alerta");o&&o.remove(),""===t?console.log("Direccion no valido"):pedido.direccion=t})}function telefonoPedido(){document.querySelector("#telefono").addEventListener("input",e=>{const t=e.target.value.trim(),o=document.querySelector(".alerta");o&&o.remove(),""===t?mostrarAlerta("Direccion no valido","error"):pedido.telefono=t})}function mostrarAlerta(e,t){if(document.querySelector(".alerta"))return;const o=document.createElement("DIV");o.textContent=e,o.classList.add("alerta"),"error"===t&&o.classList.add("error");document.querySelector(".formulario").appendChild(o),setTimeout(()=>{o.remove()},3e3)}function fechaPedido(){const e=document.querySelector("#fecha");e.addEventListener("input",t=>{const o=new Date(t.target.value).getUTCDay();[1].includes(o)?(t.preventDefault(),e.value="",mostrarAlerta("Lunes no trabajamos","error")):(pedido.fecha=e.value,console.log(pedido))})}function deshabilitarFechaAnterior(){const e=document.querySelector("#fecha"),t=new Date,o=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDay()+1}`;e.min=o}function horaPedido(){const e=document.querySelector("#hora");e.addEventListener("input",t=>{const o=t.target.value,n=o.split(":");n[0],n[0]<12?(mostrarAlerta("Hora no valida","error"),setTimeout(()=>{e.value=""},3e3)):(pedido.hora=o,console.log(pedido))})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));
//# sourceMappingURL=bundle.js.map
